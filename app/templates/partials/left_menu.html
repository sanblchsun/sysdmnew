<nav>
  <h2>Company Tree</h2>

  <button id="toggle-all-btn" onclick="toggleAll()">–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë</button>

  {% macro render_node(node) %}
  <li>
    {% if node.children %}
    <span class="node" onclick="toggle(this)">
      <span class="arrow">‚ñ∂</span> {{ node.name }}
    </span>
    <ul class="collapsible" data-id="{{ node.id }}">
      {% for child in node.children %} {{ render_node(child) }} {% endfor %}
    </ul>
    {% else %}
    <span class="node leaf">
      {% if node.type == "agent" %} üë§ {{ node.name }} {% else %} {{ node.name
      }} {% endif %}
    </span>
    {% endif %}
  </li>
  {% endmacro %}

  <ul id="tree-root">
    {% for company in companies %} {{ render_node(company) }} {% endfor %}
  </ul>
</nav>
